<ion-content class="background" scroll="true">

    <ion-grid class="ion-no-margin ion-no-padding justify-content-center">
        <ion-row class="ion-no-margin ion-no-padding">
            <ion-col class="ion-no-margin ion-no-padding" size-sm="8"
                offset-sm="2" size-md="6" offset-md="3" size-xl="4"
                offset-xl="4">

                <h2>
                    Autogenerated Audio
                </h2>
                <h6>
                    (text-to-speech)
                </h6>

                <div *ngIf="(auth.isAuthenticated$ | async) === false">
                    <p>Sign in to turn on the autogenerated audio feature to
                        hear what each conjugation sounds like.
                        Note: You must have been given express permission to use
                        this feature. If you do not have permission,
                        you will not be able to sign up.
                    </p>
                </div>

                <div *ngIf="auth.isAuthenticated$ | async">
                    <p *ngIf="auth.user$ | async as user">
                        You're successfully logged in as {{ user.name }}
                    </p>
                </div>

                <button
                    *ngIf="(auth.isAuthenticated$ | async) == false"
                    class="button"
                    id="signin"
                    (click)="login()">
                    <ion-icon name="log-in-outline"></ion-icon>
                    Sign in
                </button>

                <div
                    class="icon-form-field"
                    *ngIf="
            (tts.ttsEnabledAndAuthenticated$ | async) &&
            (this.tts.speakers$ | async)?.length > 0
          ">
                    <div class="voice-select">
                        <div class="voice-icon-wrapper">
                            <ion-icon name="person-circle"
                                class="person-icon"></ion-icon>
                            <ion-icon name="volume-high"
                                class="volume-overlay"></ion-icon>
                        </div>

                    </div>
                    <ion-select
                        class="speakerSelect"
                        interface="popover"
                        [(ngModel)]="defaultSpeaker.speaker"
                        (ionChange)="ttsSpeakerChange($event)"
                        name="speaker"
                        placeholder="TTS Voice">
                        <ion-select-option
                            *ngFor="let s of (tts.speakers$ | async)"
                            [value]="s">
                            {{ s.display }}
                        </ion-select-option>
                    </ion-select>

                    <!-- </mat-form-field> -->

                </div>

                <button
                    *ngIf="auth.isAuthenticated$ | async"
                    class="button"
                    id="signout"
                    (click)="auth.logout({ logoutParams: { returnTo: document.location.origin } })">
                    <ion-icon name="log-out-outline"></ion-icon>
                    Sign out
                </button>

            </ion-col>
        </ion-row>
    </ion-grid>

</ion-content>
